<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kt.aivle.board.mapper.BoardMapper">

    <select id="getListBoard" resultType="kt.aivle.board.model.Board">
        SELECT
        board_sn,
        user_name AS userName,
        title,
        content,
        b.created_dt AS createdDt
        FROM
        board b
        JOIN
        user u ON b.user_sn = u.user_sn
        WHERE
        board_yn = 'Y'
        ORDER BY
        b.created_dt DESC
    </select>

    <insert id="saveboard" parameterType="kt.aivle.board.model.BoardRequest" useGeneratedKeys="true" keyProperty="boardSn">
        INSERT INTO board (
        user_sn,
        title,
        content,
        board_yn,
        created_dt,
        updated_dt
        )
        VALUES (
        #{userSn},
        #{title},
        #{content},
        'Y',
        NOW(),
        NOW()
        )
    </insert>

</mapper>
